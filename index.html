<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
 <title>Boda de Alejandro & Andrea</title>

<!-- Descripci√≥n y metadatos -->
<meta name="description" content="¬°Bienvenidos a nuestro espacio de boda! Nos hace una enorme ilusi√≥n que nos acompa√±√©is en este momento tan especial de nuestras vidas. Aqu√≠ podr√©is compartir con nosotros vuestras preferencias para que todo est√© perfecto y tambi√©n encontrar toda la informaci√≥n sobre la celebraci√≥n. ¬°Gracias de coraz√≥n por formar parte de nuestra historia! üíñ">
<meta name="theme-color" content="#b87b5a">
<meta name="author" content="Alejandro & Andrea">
<meta name="robots" content="index, follow">

<!-- Favicon / Iconos -->
<link rel="icon" type="image/png" sizes="32x32" href="mi_foto_boda_v31.png">
<link rel="icon" type="image/png" sizes="192x192" href="mi_foto_boda_v31.png">
<link rel="apple-touch-icon" sizes="180x180" href="mi_foto_boda_v31.png">
<link rel="shortcut icon" href="mi_foto_boda_v31.png">

<!-- Tipograf√≠as -->
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lora&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<!-- Vista previa en redes -->
<meta property="og:title" content="Boda de Alejandro & Andrea">
<meta property="og:description" content="¬°Bienvenidos a nuestro espacio de boda! Nos hace una enorme ilusi√≥n que nos acompa√±√©is en este momento tan especial de nuestras vidas. Aqu√≠ podr√©is compartir con nosotros vuestras preferencias para que todo est√© perfecto y tambi√©n encontrar toda la informaci√≥n sobre la celebraci√≥n. ¬°Gracias de coraz√≥n por formar parte de nuestra historia! üíñ">
<meta property="og:image" content="mi_foto_boda_v31.png">
<meta property="og:type" content="website">
<meta property="og:url" content="https://www.bodalejandroyandrea.com">


  <style>
    :root {
      --brand: #b87b5a;
      --brand-2: #e8d8cc;
      --ink: #2b2b2b;
      --muted: #6b6b6b;
      --ok: #2f8f5b;
      --error: #b33a3a;
      --radius: 16px;
      --cream: rgba(250,240,240,0.40);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; padding: 0; }

body {
  margin: 0;
 background: linear-gradient(to bottom, #f5d8a9 0%, #f1cfa0 100%);
  color: #2b2b2b;
  font-family: 'Lora', serif;
}

    .header {
      text-align: center;
      display: inline-block;
      padding: 20px 24px 24px;
      margin: 20px auto 24px;
      border: 2px solid #000000;
      border-radius: 16px;
      background:rgba(250,240,240, 0.7);
    }

    .title {
      font-family: 'Great Vibes', cursive;
      font-size: 55px!important;
      font-weight: 700;
      color: #a00034 !important;
      margin: 0 0 12px 0;
    }

    .subtitle {
      font-family: 'Dancing Script', cursive;
      font-size: 24px!important;
      line-height: 1.5;
      margin: 0;
      color: #808000 !important;
      font-weight: 700;
    }
    #portada {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: linear-gradient(to bottom, #f5d8a9 0%, #f1cfa0 100%);
  transition: opacity 0.8s ease-in-out, visibility 0.8s;
}

   /* Icono de portada */
#portada .icon-container {
  display: flex;
  justify-content: center;
  margin: 60px auto 24px;
  flex-wrap: wrap;
  gap: 16px;
  max-width: 720px;
}
    #accesos {
  min-height: 100vh;
  background: linear-gradient(to bottom, #f5d8a9 0%, #f1cfa0 100%);
  padding: 20px 0;
  margin-top: 30px;
  opacity: 0;
  visibility: hidden;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  transition: opacity 0.8s ease-in-out, visibility 0.8s;
}

/* Iconos de accesos */
#accesos .icon-container {
  display: flex;
  justify-content: center;  /* centra en horizontal */
  flex-wrap: wrap;          /* baja en m√≥vil */
  gap: 16px;
  margin: 70px auto 24px;
  max-width: 720px;
}


    .icon-button {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      background: rgba(250,240,240,1);
      padding: 20px;
      border-radius: 16px;
      transition: transform 0.2s, box-shadow 0.2s;
      min-width: 100px;
      border: 2px solid #000000; /* ‚ö´ borde negro */
    }
   .icon-button span {
  font-size: 16px;          /* un poco m√°s grande */
  text-align: center;
  color: #000;
  font-weight: 700;
  text-transform: uppercase; /* fuerza MAY√öSCULAS */
}
    #accesos .icon-button span {
  font-size: 12px; /* m√°s peque√±o solo dentro de accesos */
}
      
      #accesos .icon-button {
  padding: 12px;   /* reduce el tama√±o del recuadro solo en accesos */
}
      


    .icon-button:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }
    .icon-img {
      width: 60px;
      height: auto;
      margin-bottom: 8px;
    }
    .icono-entrar {
  width: 80px;  /* ajusta el tama√±o solo para este icono */
}


    label {
      display: inline-block;
      font-size: 20px;
      color: #000;
      margin: 12px 0 6px;
      font-weight: bold;
      background: rgba(250,240,240,1);
      padding: 2px 6px;
      border-radius: 4px;
      border: 2px solid #000000;
    }
    input, select, textarea {
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      font-size: 15px;
      background: rgba(250,240,240,1);
      font-weight: bold;
      color: #000;
      border: 2px solid #000000;
    }
    textarea { min-height: 96px; resize: vertical; }
    
    #rsvpForm {
  text-align: center;
}


    .radio-row { display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; }
    .chip {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 18px;
      border: 2px solid var(--brand);
      border-radius: 999px;
      cursor: pointer;
      user-select: none;
      font-weight: bold;
      transition: all 0.2s ease-in-out;
      color: var(--ink);
      background: rgba(250,240,240,0.8);
      font-size: 16px;
      position: relative;
    }
    .chip input { position: absolute; opacity: 0; pointer-events: none; }
    .chip span { display: inline-block; transition: all 0.2s ease-in-out; }
    .chip input:checked + span {
      background: var(--brand);
      color: #fff;
      border-color: var(--brand);
      padding: 12px 22px;
      transform: scale(1.05);
    }

    .actions { display: flex; flex-direction: column; align-items: center; gap: 12px; margin-top: 20px; }
    button[type="submit"] {
      padding: 12px 18px;
      border: 0;
      border-radius: 999px;
      background: var(--brand);
      color: #fff;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      box-shadow: 0 6px 14px rgba(184,123,90,.28);
    }
    button[type="submit"]:hover { filter: brightness(.97); }

    .footer { padding: 12px 24px 24px; text-align: center; font-size: 12px; color: #000; }

    @media (max-width: 480px) {
      body { padding: 12px; }
      .title { font-size: 48px !important; }
      .subtitle { font-size: 18px; line-height: 1.4; }
    }
    @media (min-width: 1024px) {
      .header { padding: 32px 48px; }
      .title { font-size: 60px !important; }
      .subtitle { font-size: 18px; }
    }

    /* Modal Asistencia */
    #asistenciaModal {
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      justify-content: center;
      align-items: center;
      padding: 20px;
      box-sizing: border-box;
      background: url('mi_foto_boda_v37.png') center/cover no-repeat;
    
    }
    #asistenciaModal .asistencia-content {
      background: rgba(248,229,216,0.60);
      border-radius: 12px;
      max-width: 600px;
      width: 100%;
      max-height: 90%;
      overflow-y: auto;
      position: relative;
      padding: 20px;
      border: 2px solid #000000; /* ‚ö´ borde negro */
    }
    #asistenciaModal h2 {
      text-align: center;
      font-size: 40px;
      font-weight: bold;
      color: var(--brand);
      margin: 0 auto 20px;
      font-family: 'Great Vibes', cursive;
    }
   
    #successBox, #errorBox { display: none; }
    /* Modal Traslado */
#trasladoModal {
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
  padding: 20px;
  box-sizing: border-box;

  /* Fondo con imagen */
  background: url('mi_foto_boda_v2.JPG') center/cover no-repeat;
}

#trasladoModal .traslado-content {
  background: rgba(248,229,216,0.8); /* crema semitransparente */
  border-radius: 12px;
  max-width: 600px;
  width: 100%;
  max-height: 90%;
  overflow-y: auto;
  position: relative;
  padding: 20px;
  color: #000; /* texto negro */
   border: 2px solid #000000; /* ‚ö´ borde negro */
}

#trasladoModal h3,
#trasladoModal h4,
#trasladoModal p {
  color: #000;
}

  
   .countdown-section {
  text-align: center;
  margin: 20px auto 40px;
  padding: 20px;
  max-width: 600px;
}

.countdown-section h2 {
  font-family: 'Great Vibes', cursive; /* m√°s elegante */
  font-size: 36px;
  margin-bottom: 20px;
  color: #a00034;
}

#countdown {
  display: flex;
  justify-content: center;
  gap: 15px;
}

.time-box {
  background: rgba(255, 245, 230, 0.9);
  border: 2px solid #c9ab83;
  border-radius: 12px;
  padding: 15px 20px;
  text-align: center;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);

  display: flex;               /* convierte en flexbox */
  flex-direction: column;      /* texto en columna */
  justify-content: center;     /* centra vertical */
  align-items: center;         /* centra horizontal */
  min-width: 70px;             /* ancho m√≠nimo, pero ahora flexible */
}


.time-box span {
  display: block;
  font-size: 28px;
  font-weight: bold;
  color: var(--brand);
}

.time-box small {
  font-size: 14px;
  color: var(--ink);
  font-family: 'Playfair Display', serif;
}
    .countdown-icon {
  text-align: center;
  margin-bottom: 10px;
}

.countdown-icon img {
  width: 110px;   /* ajusta al tama√±o que quieras */
  height: auto;
  display: inline-block;
}


    .spinner {
  border: 3px solid #f3f3f3;
  border-top: 3px solid #b87b5a;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  animation: spin 1s linear infinite;
  display: inline-block;
  margin-left: 8px;
  vertical-align: middle;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
    #recuerdosModal {
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
  padding: 20px;
  box-sizing: border-box;

  /* üéâ Fondo con imagen */
  background: url('mi_foto_boda_v7.jpg') center/cover no-repeat;
}

#recuerdosModal .recuerdos-content {
  background: rgba(248,229,216,0.80); /* crema semitransparente */
  border-radius: 12px;
  max-width: 500px;
  width: 100%;
  max-height: 90%;
  overflow-y: auto;
  position: relative;
  padding: 20px;
  color: #000;
  border: 2px solid #000;
}
    #portada, #accesos {
  transition: opacity 0.8s ease-in-out, visibility 0.8s;
}


/* Cuando se activa */
#portada.hide {
  opacity: 0;
  visibility: hidden;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
}

#accesos.show {
  opacity: 1;
  visibility: visible;
  position: relative; /* vuelve a su flujo normal */
}

   .wedding-date {
  font-size: 55px;        /* tama√±o similar a la frase "Cuenta atr√°s" */
  font-weight: 700;
  text-align: center;
  margin: 12px 0;
  color: #a00034;         /* granate elegante */
  font-family: 'Great Vibes', cursive;
  text-transform: lowercase;  /* üëâ fuerza min√∫sculas */
}

.church-icon {
  text-align: center;
  margin-top: 8px;
}

.church-icon img {
  width: 60px; 
  height: auto;
  opacity: 0.9;
  animation: bounceIn 1.2s ease;
}

/* Animaci√≥n */
@keyframes bounceIn {
  0% {
    transform: scale(0.3);
    opacity: 0;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    transform: scale(1);
  }
    }

    .intro-traslado {
  font-size: 16px;
  line-height: 1.5;
  margin: 15px 0 20px;
  text-align: justify;
  color: #333;
}
    /* T√≠tulo del modal Traslado */
.traslado-content h3 {
  font-family: 'Playfair Display', serif;
  font-size: 26px;
  font-weight: 700;
  color: #a00034;
  text-align: center;
  margin-bottom: 15px;
}

/* Texto dentro del modal */
.traslado-content p,
.traslado-content h4 {
  font-family: 'Lora', serif;
  font-size: 17px;
  line-height: 1.6;
  text-align: center;
  color: #333;
  margin: 12px 0;
  font-weight: 700; /* üëâ ahora todo en negrita */
}

.traslado-content h4 {
  font-weight: 700;
  color: #a00034;
}
    .traslado-icon {
  text-align: center;
  margin-bottom: 10px;
}

.traslado-icon img {
  width: 60px;   /* ajusta a tu gusto */
  height: auto;
  display: inline-block;
}
    .logo-portada {
  text-align: center;
  margin: 20px 0;
}

.logo-portada img {
  width: 240px;   /* un poco m√°s grande que el icono de entrar */
  height: auto;
  display: inline-block;
}
    .asistencia-title {
  text-align: center;
  margin-bottom: 20px;
}

.asistencia-title img {
  max-width: 100px;  /* ajusta el tama√±o a tu gusto */
  height: auto;
  display: inline-block;
}
    /* Modal Ubicaci√≥n */
#ubicacionModal {
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
  padding: 20px;
  box-sizing: border-box;

  /* üéâ Fondo con imagen */
  background: url('mi_foto_boda_v6.JPG') center/cover no-repeat;
}


.ubicacion-content {
  background: rgba(248,229,216,0.85);
  border-radius: 12px;
  max-width: 600px;
  width: 100%;
  max-height: 90%;
  overflow-y: auto;
  position: relative;
  padding: 20px;
  color: #000;
  border: 2px solid #000;
  text-align: center;
}

.ubicacion-icon img {
  width: 80px;
  margin-bottom: 10px;
}

.ubicacion-foto img {
  max-width: 100%;
  border-radius: 8px;
  margin: 15px 0;
}

.ubicacion-seccion {
  margin: 20px 0;
}

.ubicacion-seccion .subicono {
  width: 60px;
  display: block;
  margin: 0 auto 10px;
}
    .close-btn {
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  position: absolute;
  top: 10px;
  right: 15px;
  width: 32px;   /* ajusta tama√±o */
  height: 32px;
}

.close-btn img {
  width: 100%;
  height: 100%;
  display: block;
}
    .ubicacion-content h3 {
  font-family: 'Playfair Display', serif;
  font-size: 22px;     /* m√°s grande */
  font-weight: 700;
  color: #000;      /* granate */
  margin-bottom: 12px;
  text-align: center;
}
    /* Ajustes espec√≠ficos para el cuestionario de asistencia */
#rsvpForm {
  max-width: 320px;
  margin: 0 auto;
  text-align: center;
  box-sizing: border-box;
}

#rsvpForm input,
#rsvpForm select,
#rsvpForm textarea {
  max-width: 300px;   /* üëà l√≠mite para que no desborde */
  margin: 0 auto 15px;
  display: block;
  text-align: center;
  box-sizing: border-box;
}
 .modal {
  display: flex;
  justify-content: center;
  align-items: center;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.4s ease, visibility 0.4s ease;
}

.modal.show {
  opacity: 1;
  visibility: visible;
}
    .date-box {
  margin: 25px auto 40px;
  padding: 12px 24px;
  text-align: center;
  border: 2px solid #a00034;     /* borde granate */
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.7); /* fondo semitransparente */
  display: block;           /* üëà lo cambiamos de inline-block a block */
  width: fit-content;       /* üëà ajusta el ancho al contenido */
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 2s ease, transform 2s ease;
}

.date-box.show {
  opacity: 1;
  transform: translateY(0);
  }

.date-box span {
  font-family: 'Great Vibes', cursive;
  font-size: 38px;
  font-weight: 700;
  color: #a00034;                /* granate elegante */
}
    .recuerdos-header {
  text-align: center;
  margin-bottom: 15px;
}
    #recuerdosForm {
  text-align: center;
}
    #recuerdosForm button {
  display: inline-block;
  margin-top: 10px;
  padding: 10px 18px;
  border: 0;
  border-radius: 999px;
  background: #a00034; /* granate */
  color: #fff;
  font-weight: 600;
  font-size: 15px;
  cursor: pointer;
  box-shadow: 0 6px 14px rgba(0,0,0,0.2);
  transition: all 0.2s ease-in-out;
}

#recuerdosForm button:hover {
  filter: brightness(0.9);
}

.recuerdos-icono {
  width: 60px;      /* ajusta seg√∫n tu icono */
  margin-bottom: 8px;
  display: block;
  margin-left: auto;
  margin-right: auto;
}
    #recuerdosModal p {
  text-align: center;   /* centra el texto */
  font-weight: bold;    /* pone en negrita */
  line-height: 1.6;     /* m√°s c√≥modo de leer */
}
#recuerdosModal .recuerdos-content p,
#ubicacionModal .ubicacion-content p,
#trasladoModal .traslado-content p {
  text-align: center;   
  font-weight: 700;    
  line-height: 1.5;
  font-family: 'Bradley Hand ITC', cursive, sans-serif;
  font-size: 24px; 
  color: #000;  /* verde oliva */
}
    .logo-fecha {
  text-align: center;
  margin-top: 15px;
}

.logo-fecha img {
  width: 140px;   /* ajusta el tama√±o seg√∫n tu logo */
  height: auto;
  display: inline-block;
  opacity: 0.95;  /* un pel√≠n suave para integrar */
}
    /* Animaci√≥n de aparici√≥n del contenido dentro de los modales */
.modal .asistencia-content,
.modal .traslado-content,
.modal .recuerdos-content,
.modal .ubicacion-content {
  opacity: 0;
  transform: translateY(-20px);   /* empieza un poco arriba */
  transition: opacity 1s ease, transform 1s ease;
}

.modal.show .asistencia-content,
.modal.show .traslado-content,
.modal.show .recuerdos-content,
.modal.show .ubicacion-content {
  opacity: 1;
  transform: translateY(0);      /* vuelve a su sitio */
}




  </style>
</head>
<body>
<main id="portada">
  <header class="header">
    <h1 class="title">Boda Alejandro y Andrea</h1>
    <p class="subtitle">
     ¬°Bienvenidos a nuestro espacio de boda! Nos hace una enorme ilusi√≥n que nos acompa√±√©is en este momento tan especial de nuestras vidas. Aqu√≠ podr√©is compartir con nosotros vuestras preferencias para que todo est√© perfecto y tambi√©n encontrar toda la informaci√≥n sobre la celebraci√≥n. ¬°Gracias de coraz√≥n por formar parte de nuestra historia!   üíñ
    </p>
  </header>

  <!-- Bot√≥n √∫nico para entrar -->
  <div class="icon-container">
    <button class="icon-button" id="accesosBtn">
      <img src="mi_foto_boda_v20.png" alt="" class="icon-img icono-entrar">
      <span>Entrar</span>
    </button>
  </div>

  <!-- Logotipo -->
  <div class="logo-portada">
    <img src="mi_foto_boda_v31.png" alt="Logo Alejandro y Andrea">
  </div>
</main>


<!-- P√°gina de accesos (oculta al inicio) -->
<section id="accesos">
  <!-- Cuenta atr√°s -->
  <section class="countdown-section" aria-labelledby="countdownTitle">
    <div class="countdown-icon">
      <img src="mi_foto_boda_v21.png" alt="">
    </div>
    <h2 id="countdownTitle">Cuenta Atr√°s</h2>
    <div id="countdown" role="timer" aria-live="polite">
      <div class="time-box"><span id="days">0</span><small>D√≠as</small></div>
      <div class="time-box"><span id="hours">0</span><small>Horas</small></div>
      <div class="time-box"><span id="minutes">0</span><small>Min</small></div>
      <div class="time-box"><span id="seconds">0</span><small>Seg</small></div>
    </div>
  </section>
  <div class="date-box">
  <span>17 ¬∑ Octubre ¬∑ 2026</span>
</div>
  <div class="icon-container">
    <!-- Bot√≥n para modal Ubicaci√≥n -->
<button class="icon-button" id="ubicacionBtn">
  <img src="mi_foto_boda_v33.png" alt="Ubicaci√≥n" class="icon-img">
  <span>Ubicaci√≥n</span>
</button>
    <button class="icon-button" id="asistenciaBtn">
      <img src="mi_foto_boda_v26.png" alt="" class="icon-img">
      <span>Cuestionario de asistencia</span>
    </button>
    <button class="icon-button" id="trasladoBtn">
      <img src="mi_foto_boda_v27.png" alt="" class="icon-img">
      <span>Traslado de invitados</span>
    </button>
    <button class="icon-button" id="recuerdosBtn">
      <img src="recuerdos.png" alt="" class="icon-img">
      <span>Rinc√≥n de los recuerdos</span>
    </button>
  </div>
   <div class="logo-fecha">
  <img src="mi_foto_boda_v31.png" alt="Logo iniciales Alejandro y Andrea">
</div>
</section>

  <footer class="footer">¬© Alejandro & Andrea</footer>
</section>


  <!-- Aqu√≠ siguen tus modales (Asistencia, Traslado, Recuerdos) tal cual los tienes -->

  <!-- Modal Asistencia -->
<div id="asistenciaModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="asistenciaTitle">
  <div class="asistencia-content">
   <button id="closeAsistencia" aria-label="Cerrar formulario" class="close-btn">
  <img src="mi_foto_boda_v36.png" alt="Cerrar">
</button>

   <div class="asistencia-title">
  <img src="mi_foto_boda_v32.png" alt="Cuestionario de asistencia">
</div>
      <form id="rsvpForm" action="https://script.google.com/macros/s/AKfycbyR0kDkPjKhyVGAqirWjeG7KxL917Tz1tfJOo17r6v06V4JT2cPcjjHyYR8_CvZ_Ab-Kg/exec" method="POST" novalidate>
        <div class="grid">
          <div class="row">
            <label for="nombre">Nombre y apellidos *</label>
            <input id="nombre" name="nombre" type="text" required placeholder="Ej. Ana P√©rez" />
          </div>
          <div class="row">
            <label>¬øAsistir√°s a la boda? *</label>
            <div class="radio-row">
              <label class="chip"><input type="radio" name="asistencia" value="s√≠" required /><span>S√≠</span></label>
              <label class="chip"><input type="radio" name="asistencia" value="no" required /><span>No</span></label>
            </div>
          </div>
          <div class="row">
            <label for="acompanantes">¬øCu√°ntos acompa√±antes?</label>
            <input id="acompanantes" name="acompanantes" type="number" min="0" max="10" value="0" />
          </div>
          <div class="row">
            <label>¬øUtilizar√°s el servicio de autob√∫s?</label>
            <div class="radio-row">
              <label class="chip"><input type="radio" name="autobus" value="s√≠" /><span>S√≠</span></label>
              <label class="chip"><input type="radio" name="autobus" value="no" /><span>No</span></label>
            </div>
          </div>
        </div>
        <div class="row">
          <label for="alergias">¬øTienes alguna alergia, intolerancia o preferencia alimentaria?</label>
          <input id="alergias" name="alergias" type="text" placeholder="Ej. sin gluten, frutos secos, vegetariano..." />
        </div>
        <div class="row">
          <label for="mensaje">¬øQu√© canci√≥n te gusta para que suene en la fiesta?</label>
          <textarea id="mensaje" name="mensaje" placeholder=" "></textarea>
        </div>
        <div class="actions"><button type="submit">Enviar confirmaci√≥n</button></div>
      </form>
      <div class="success" id="successBox" role="status" aria-live="polite">
        <h3>¬°Gracias por tu respuesta! üíå</h3>
        <p>Hemos registrado tu confirmaci√≥n. Puedes cerrar esta p√°gina.</p>
      </div>
      <div class="error" id="errorBox" role="alert">
        <h3>Vaya, algo no ha ido bien‚Ä¶</h3>
        <p>Int√©ntalo de nuevo en unos segundos o avisa a los novios.</p>
      </div>
    </div>
  </div>

<!-- Modal Traslado -->
<div id="trasladoModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="trasladoTitle">
  <div class="traslado-content">
    <button id="closeTraslado" aria-label="Cerrar informaci√≥n de traslado" class="close-btn">
  <img src="mi_foto_boda_v36.png" alt="Cerrar">
</button>
     <div class="traslado-icon">
      <img src="mi_foto_boda_v29.png" alt="Icono Traslado">
    </div>
    <h3 id="trasladoTitle">Traslado de invitados</h3>
    
    <!-- ‚ú® Introducci√≥n a√±adida -->
    <p class="intro-traslado">
      Cuando se acerque nuestro gran d√≠a, aqu√≠ encontrar√©is todos los detalles sobre el servicio de autobuses. 
      Compartiremos los horarios y puntos de recogida en Pamplona para acompa√±arnos hasta el banquete en el Palacio de Olloqui, 
      as√≠ como el regreso tras la fiesta para volver c√≥modamente a Pamplona.  
      ¬°Queremos que disfrut√©is al m√°ximo, sin preocuparos de nada m√°s que de celebrar con nosotros!
    </p>
    
<!-- üöß INFO DE TRASLADO (OCULTA POR AHORA) üöß -->
    <!-- p><strong>Ida:</strong> 13:30 desde La Cuesta Labrit (parada de autobuses).</p>
    <p><strong>Vuelta:</strong> 02:00 desde Palacio de Olloqui hasta Hotel Tres Reyes, Pamplona.</p>
    
    <h4>Taxis recomendados:</h4>
    <p>üìû Taxi Pamplona: 948 232 300<br>
       üìû Radio Taxi: 948 351 335</p> -->
  </div>
</div>
  
  <!-- Modal Ubicaci√≥n -->
<div id="ubicacionModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="ubicacionTitle">
  <div class="ubicacion-content">
    <button id="closeUbicacion" aria-label="Cerrar informaci√≥n de ubicaci√≥n" class="close-btn">
  <img src="mi_foto_boda_v36.png" alt="Cerrar">
</button>


    <!-- Lugar de la ceremonia -->
   <div class="ubicacion-seccion">
  <img src="mi_foto_boda_v28.png" alt="Icono ceremonia" class="subicono">

  <h3>Ceremonia religiosa</h3>
  <p>La ceremonia religiosa tendr√° lugar en la Catedral de Santa Mar√≠a la Real de Pamplona, 
  un lugar √∫nico y lleno de historia que hemos elegido para dar el "s√≠ quiero".<br>
  Os esperamos el 17 de octubre de 2026 a las 12:00 del mediod√≠a, 
  para compartir junto a nosotros este momento tan especial.</p>

  <p>
    üìç <a href="https://www.google.com/maps/search/?api=1&query=42.819637,-1.641684"
          target="_blank"
          rel="noopener noreferrer">
      Ver ubicaci√≥n exacta en Google Maps
    </a>
  </p>
</div>


    <!-- Lugar del banquete -->
  <div class="ubicacion-seccion">
  <img src="mi_foto_boda_v34.png" alt="Icono banquete" class="subicono">

  <h3>Banquete</h3>
  <p>Continuaremos compartiendo este d√≠a tan especial en el Palacio Cabo de Armer√≠a de Olloqui,
  un entorno con encanto donde disfrutaremos juntos de la comida, la celebraci√≥n y, por supuesto, 
  la fiesta hasta el final.</p>

  <p>
    üìç <a href="https://www.google.com/maps/search/?api=1&query=42.840699,-1.581877"
          target="_blank"
          rel="noopener noreferrer">
      Ver ubicaci√≥n exacta en Google Maps
    </a>
  </p>
</div>

  </div>
</div>


 <!-- Modal Recuerdos -->
<div id="recuerdosModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="recuerdosTitle">
  <div class="recuerdos-content">
    <button id="closeRecuerdos" aria-label="Cerrar rinc√≥n de recuerdos" class="close-btn">
  <img src="mi_foto_boda_v36.png" alt="Cerrar">
</button>
   <div class="recuerdos-header">
  <img src="mi_foto_boda_v38.png" alt="C√°mara" class="recuerdos-icono">
  <h3 id="recuerdosTitle">Rinc√≥n de los recuerdos</h3>
</div>

    <p>El d√≠a de nuestra boda estar√° inmortalizado por un fot√≥grafo profesional üì∑, 
  as√≠ que no os preocup√©is, ¬°tendremos fotos oficiales de cada momento!  
  Pero tambi√©n queremos ver la celebraci√≥n a trav√©s de vuestros ojos üëÄ.  
  Por eso, os invitamos a subir aqu√≠ todas las fotos espont√°neas que hag√°is con vuestro m√≥vil:  
  esos instantes divertidos, naturales y √∫nicos que solo vosotros pod√©is captar.  </p>
    <form id="recuerdosForm">
      <input type="file" id="foto" name="foto" accept="image/*" multiple required><br><br>
      <button type="submit">Enviar fotos</button>
    </form>
    <div id="recuerdosMsg" style="margin-top:10px; font-size:14px;"></div>
  </div>
</div>



<script>
document.addEventListener("DOMContentLoaded", () => {
  /* ---------- Navegaci√≥n portada ‚Üî accesos ---------- */
  const portada = document.getElementById("portada");
  const accesos = document.getElementById("accesos");
  const accesosBtn = document.getElementById("accesosBtn");

  function closeAllModals() {
    document.querySelectorAll('.modal.show').forEach(m => m.classList.remove('show'));
  }

  accesosBtn.addEventListener("click", () => {
    portada.classList.add("hide");
    accesos.classList.add("show");
    history.pushState({ page: "accesos" }, "Accesos", "#accesos");

    const dateBox = document.querySelector(".date-box");
    if (dateBox) {
      dateBox.classList.remove("show");
      setTimeout(() => dateBox.classList.add("show"), 100);
    }

    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  window.addEventListener("popstate", (event) => {
    const state = event.state || { page: "portada" };

    // üëá Cierra cualquier modal abierto
    closeAllModals();

    if (state.page === "accesos") {
      portada.classList.add("hide");
      accesos.classList.add("show");

      const dateBox = document.querySelector(".date-box");
      if (dateBox) {
        dateBox.classList.remove("show");
        setTimeout(() => dateBox.classList.add("show"), 100);
      }

      window.scrollTo({ top: 0, behavior: "smooth" });
      return;
    }

    if (state.page === "modal" && state.modalId) {
      portada.classList.add("hide");
      accesos.classList.add("show");
      const modal = document.getElementById(state.modalId);
      if (modal) modal.classList.add("show");
      return;
    }

    // üè† Por defecto: portada
    accesos.classList.remove("show");
    portada.classList.remove("hide");
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  if (!history.state) {
    history.replaceState({ page: "portada" }, "Portada", "#portada");
  }

  /* ---------- Cuenta atr√°s ---------- */
  const weddingDate = new Date("Oct 17, 2026 12:00:00").getTime();
  const daysEl = document.getElementById("days");
  const hoursEl = document.getElementById("hours");
  const minutesEl = document.getElementById("minutes");
  const secondsEl = document.getElementById("seconds");

  const timer = setInterval(() => {
    const now = new Date().getTime();
    const distance = weddingDate - now;

    if (distance <= 0) {
      clearInterval(timer);
      const countdown = document.getElementById("countdown");
      countdown.innerHTML = "üíç ¬°Hoy es el gran d√≠a!";
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    daysEl.textContent = days;
    hoursEl.textContent = hours;
    minutesEl.textContent = minutes;
    secondsEl.textContent = seconds;
  }, 1000);

  /* ---------- Utilidades de modales accesibles ---------- */
  let lastFocused = null;
  const focusableSelector =
    'a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])';

  function trapFocus(modal, ev) {
    if (ev.key !== "Tab") return;
    const focusables = Array.from(modal.querySelectorAll(focusableSelector))
      .filter(el => !el.hasAttribute("disabled") && el.tabIndex !== -1 && el.offsetParent !== null);
    if (!focusables.length) return;
    const first = focusables[0];
    const last = focusables[focusables.length - 1];
    if (ev.shiftKey && document.activeElement === first) {
      last.focus(); ev.preventDefault();
    } else if (!ev.shiftKey && document.activeElement === last) {
      first.focus(); ev.preventDefault();
    }
  }

  function openModal(modal, opener, focusTargetSelector) {
    lastFocused = opener;
    modal.classList.add("show");
    modal.setAttribute("tabindex", "-1");
    const target = focusTargetSelector
      ? modal.querySelector(focusTargetSelector)
      : modal.querySelector("h2, h3, input, button");
    (target || modal).focus();

    history.pushState({ page: "modal", modalId: modal.id }, "", `#${modal.id}`);
  }

  function closeModal(modal) {
    modal.classList.remove("show");
    if (lastFocused) lastFocused.focus();
    history.back(); // üëà retroceso real, popstate cierra modales
  }

  function setupModal({ opener, modal, closeBtn, focusSelector }) {
    opener.addEventListener("click", () => openModal(modal, opener, focusSelector));
    closeBtn.addEventListener("click", () => closeModal(modal));
    modal.addEventListener("click", (e) => { if (e.target === modal) closeModal(modal); });
    modal.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeModal(modal);
      trapFocus(modal, e);
    });
  }

  /* ---------- Modal Asistencia ---------- */
  const asistenciaBtn = document.getElementById("asistenciaBtn");
  const asistenciaModal = document.getElementById("asistenciaModal");
  const closeAsistencia = document.getElementById("closeAsistencia");
  setupModal({ opener: asistenciaBtn, modal: asistenciaModal, closeBtn: closeAsistencia, focusSelector: "#nombre" });

  // Env√≠o del formulario RSVP
  (function () {
    const form = document.getElementById('rsvpForm');
    const successBox = document.getElementById('successBox');
    const errorBox = document.getElementById('errorBox');
    const submitBtn = form.querySelector("button[type='submit']");

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      submitBtn.disabled = true;
      const spinner = document.createElement("span");
      spinner.classList.add("spinner");
      submitBtn.appendChild(spinner);

      const data = new FormData(form);

      try {
        const response = await fetch(form.action, {
          method: form.method,
          body: data,
          headers: { 'Accept': 'application/json' }
        });

        if (response.ok) {
          form.style.display = 'none';
          errorBox.style.display = 'none';
          successBox.style.display = 'block';

          setTimeout(() => {
            asistenciaModal.classList.remove("show");
            form.reset();
            form.style.display = 'block';
            successBox.style.display = 'none';
            submitBtn.disabled = false;
            spinner.remove();
          }, 3000);
        } else {
          throw new Error('Error en el env√≠o');
        }
      } catch (err) {
        form.style.display = 'none';
        successBox.style.display = 'none';
        errorBox.style.display = 'block';

        setTimeout(() => {
          errorBox.style.display = 'none';
          form.style.display = 'block';
          submitBtn.disabled = false;
          spinner.remove();
        }, 3000);
      }
    });
  })();

  /* ---------- Modal Traslado ---------- */
  const trasladoBtn = document.getElementById("trasladoBtn");
  const trasladoModal = document.getElementById("trasladoModal");
  const closeTraslado = document.getElementById("closeTraslado");
  setupModal({ opener: trasladoBtn, modal: trasladoModal, closeBtn: closeTraslado });

  /* ---------- Modal Recuerdos ---------- */
  const recuerdosBtn = document.getElementById("recuerdosBtn");
  const recuerdosModal = document.getElementById("recuerdosModal");
  const closeRecuerdos = document.getElementById("closeRecuerdos");
  setupModal({ opener: recuerdosBtn, modal: recuerdosModal, closeBtn: closeRecuerdos });

  /* ---------- Modal Ubicaci√≥n ---------- */
  const ubicacionBtn = document.getElementById("ubicacionBtn");
  const ubicacionModal = document.getElementById("ubicacionModal");
  const closeUbicacion = document.getElementById("closeUbicacion");
  setupModal({ opener: ubicacionBtn, modal: ubicacionModal, closeBtn: closeUbicacion });

  // Subida de fotos
  const recuerdosForm = document.getElementById("recuerdosForm");
  const recuerdosMsg = document.getElementById("recuerdosMsg");

  async function readFileAsBase64(file) {
    return new Promise((resolve, reject) => {
      const reader = new FileReader();
      reader.onloadend = () => resolve(reader.result.split(",")[1]);
      reader.onerror = reject;
      reader.readAsDataURL(file);
    });
  }

  recuerdosForm.addEventListener("submit", async (e) => {
    e.preventDefault();
    recuerdosMsg.innerHTML = "";
    const files = document.getElementById("foto").files;
    const submitBtn = recuerdosForm.querySelector('button[type="submit"]');

    if (files.length === 0) {
      recuerdosMsg.textContent = "‚ö†Ô∏è Selecciona al menos una foto.";
      return;
    }

    submitBtn.disabled = true;
    const spinner = document.createElement("span");
    spinner.classList.add("spinner");
    submitBtn.appendChild(spinner);

    for (const file of files) {
      try {
        const base64 = await readFileAsBase64(file);
        const response = await fetch("https://script.google.com/macros/s/AKfycbwN9bUuAkucwZ3kpuYLdzDqGfnIgwzyQ-q5Wz5qxleE4LRKk5_A0nZ459TZrk4E9WZDvQ/exec", {
          method: "POST",
          body: new URLSearchParams({
            foto: base64,
            nombreArchivo: file.name,
            mimeType: file.type
          })
        });
        const result = await response.json();
        if (result.status === "ok") {
          recuerdosMsg.innerHTML += `‚úÖ ${file.name} subida correctamente<br>`;
        } else {
          recuerdosMsg.innerHTML += `‚ùå Error al subir ${file.name}<br>`;
        }
      } catch (err) {
        recuerdosMsg.innerHTML += `‚ö†Ô∏è Fallo al subir ${file.name}: ${err.message}<br>`;
      }
    }

    submitBtn.disabled = false;
    spinner.remove();
  });
});
</script>


</body>
</html>






