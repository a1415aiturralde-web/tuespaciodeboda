<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Boda de Alejandro & Andrea</title>

  <!-- Metadatos -->
  <meta name="description" content="¬°Bienvenidos a nuestro espacio de boda! Nos hace una enorme ilusi√≥n que nos acompa√±√©is en este momento tan especial de nuestras vidas. Aqu√≠ podr√©is compartir con nosotros vuestras preferencias para que todo est√© perfecto y tambi√©n encontrar toda la informaci√≥n sobre la celebraci√≥n. ¬°Gracias de coraz√≥n por formar parte de nuestra historia!">
  <meta name="theme-color" content="#b87b5a">
  <meta name="author" content="Alejandro & Andrea">
  <meta name="robots" content="index, follow">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="mi_foto_boda_v31.png">

  <!-- Tipograf√≠as -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Lora&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">


  <style>
    :root {
      --brand: #b87b5a;
      --ink: #2b2b2b;
      --cream-bg: #f8f1e3;
      --overlay: rgba(0, 0, 0, 0.35);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
     background: radial-gradient(circle at top center, #f3e6d1 0%, #e9d5b8 40%, #d8bfa3 100%);
      font-family: 'Lora', serif;
      color: var(--ink);
      overflow-x: hidden;
      animation: fadeIn 4s ease-in-out;
    }

    @keyframes fadeIn {
      0% { opacity: 0; transform: translateY(30px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    /* Fondo principal que se desenfoca */
    #page-wrapper {
      transition: filter 0.6s ease, opacity 0.6s ease;
    }

    #page-wrapper.blurred {
      filter: blur(6px) brightness(0.8);
      pointer-events: none;
      user-select: none;
    }

header {
  text-align: center;
  padding: 25px 30px;
  animation: fadeUp 2s ease-in-out, drawBorder 2.5s ease forwards;
  border: 2px solid #6b4a2b; /* mismo color que el texto */
  border-radius: 25px;
  max-width: 500px; /* tama√±o m√°s ajustado al t√≠tulo */
  margin: 40px auto 20px;
  background: rgba(255, 255, 255, 0.25);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
  position: relative;
  overflow: hidden;
  box-sizing: border-box;
}





/* === Ajustes espec√≠ficos para pantallas peque√±as === */
@media (max-width: 600px) {
  header {
    padding: 25px 15px; /* reduce un poco los m√°rgenes interiores */
    border-radius: 20px;
    max-width: 90%; /* deja margen lateral para que se vea el borde */
  }


/* === EFECTO DIBUJADO DEL BORDE === */
@keyframes drawBorder {
  0% {
    border-color: transparent;
    box-shadow: 0 0 0 rgba(0,0,0,0);
  }
  30% {
    border-color: #6b4a2b;
    box-shadow: 0 0 0 rgba(0,0,0,0);
  }
  100% {
    border-color: #6b4a2b; /* mismo tono que el texto */
    box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  }
}

/* === FADE-IN DEL CONTENIDO INTERIOR === */
header .title,
header .subtitle {
  opacity: 0;
  animation: textFadeIn 2s ease forwards;
}

header .title { animation-delay: 0.5s; }
header .subtitle { animation-delay: 1.2s; }

@keyframes textFadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}



    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }

  .title {
  font-family: 'Cinzel', serif; /* tipograf√≠a elegante como la imagen */
  font-size: 30px;
  letter-spacing: 3px; /* separaci√≥n entre letras */
  color: #6b4a2b; /* tono marr√≥n dorado suave */
  font-weight: 700;
  margin-bottom: 10px;
}


    .subtitle {
     font-family: 'Playfair Display', serif;
      font-size: 22px;
      color: #5a4b2b;
      line-height: 1.6;
      max-width: 800px;
      margin: 0 auto;
    }
  .subtitle-box {
  text-align: center;
  padding: 25px 30px;
  border: 2px solid #6b4a2b; /* mismo color que la letra */
  border-radius: 25px;
  max-width: 900px;
  margin: 40px auto;
  background: rgba(255, 255, 255, 0.25);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
  animation: fadeUp 2s ease-in-out;
  box-sizing: border-box;
}


    /* Cuenta atr√°s */
   /* === CUENTA ATR√ÅS (centrada y equilibrada) === */
.countdown-section {
  text-align: center;
  margin: 20px auto 40px;
  padding: 20px;
  max-width: 600px;
}

.countdown-section h2 {
  font-family: 'Cinzel', serif;     /* misma fuente que D√≠a de la boda */
  font-size: 28px;                  /* tama√±o equilibrado */
  font-weight: 700;
  color: #6b4a2b;                   /* mismo tono marr√≥n dorado */
  letter-spacing: 3px;              /* misma separaci√≥n elegante */
  margin-bottom: 20px;
}

#countdown {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: 50px; /* separaci√≥n entre cada grupo */
  margin-top: 15px;
  position: relative;
}

.time-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  font-family: 'Cinzel', serif;
  color: #6b4a2b;
  text-align: center;
}

/* n√∫meros equilibrados */
.time-box span {
  font-size: 36px; /* üîπ antes 46px */
  font-weight: 700;
  line-height: 1.1;
  transition: opacity 0.4s ease, transform 0.4s ease;
}

/* animaci√≥n suave */
.time-box span.change {
  opacity: 0.6;
  transform: scale(1.05);
}

/* etiquetas */
.time-box small {
  font-size: 13px;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  font-weight: 600;
  margin-top: 6px;
  color: #6b4a2b;
}

/* puntos separadores */
.time-box:not(:last-child)::after {
  content: "¬∑";
  position: absolute;
  right: -30px;
  top: 25%;
  transform: translateY(-50%);
  font-size: 28px; /* üîπ m√°s fino */
  color: #6b4a2b;
  font-weight: 400;
}

/* === VERSI√ìN RESPONSIVE PARA M√ìVILES === */
@media (max-width: 600px) {
  #countdown {
    gap: 30px;
  }

  .time-box span {
    font-size: 28px; /* üîπ m√°s peque√±o para pantallas peque√±as */
  }

  .time-box small {
    font-size: 11px;
    letter-spacing: 1px;
  }

  .time-box:not(:last-child)::after {
    right: -18px;
    font-size: 22px;
    top: 22%;
  }

.date-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin: 50px auto;
  padding: 30px 50px;
  background: #f8f1e3; /* fondo crema */
  border-radius: 20px;
  border: 1px solid rgba(107, 74, 43, 0.3);
  box-shadow: 0 4px 16px rgba(0,0,0,0.08);
  font-family: 'Cinzel', serif;
  color: #6b4a2b;
  text-align: center;
  letter-spacing: 3px;
  width: fit-content;
}

.date-box span {
  font-size: 25px;
  font-weight: 700;
  letter-spacing: 6px;
  color: #6b4a2b;
}

.date-box small {
  display: block;
  font-size: 20px;
  font-weight: 400;
  color: rgba(107, 74, 43, 0.9);
  margin-top: 5px;
  letter-spacing: 2px;
}



    /* Iconos */
    .icon-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 16px;
      margin: 50px auto;
      max-width: 720px;
      animation: fadeUp 4s ease-in-out;
    }

    .icon-button {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: rgba(250,240,240,0.9);
      padding: 16px;
      border-radius: 16px;
      border: 2px solid #000;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      min-width: 100px;
    }

    .icon-button:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 18px rgba(0,0,0,0.2);
    }

    .icon-button span {
      margin-top: 8px;
      font-weight: bold;
      color: #000;
      font-size: 14px;
    }

    .icon-img { width: 60px; height: auto; }

    /* Foto */
    .boda-foto {
      width: 100%;
      max-width: 900px;
      margin: 50px auto;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 6px 18px rgba(0,0,0,0.2);
      animation: fadeUp 4s ease-in-out;
    }

    .boda-foto img { width: 100%; display: block; }

    /* Logo */
    .logo-fecha {
      text-align: center;
      margin: 30px 0;
      animation: fadeUp 4s ease-in-out;
    }

    .logo-fecha img { width: 140px; opacity: 0.95; }

    /* Frase final */
    .mensaje-final {
      text-align: center;
      font-family: 'Playfair Display', serif;
      font-size: 18px;
      color: #5a4b2b;
      margin: 40px 20px;
      line-height: 1.6;
      animation: fadeUp 4s ease-in-out;
    }

    footer {
      text-align: center;
      padding: 20px;
      font-size: 13px;
      color: #000;
      opacity: 0.8;
      animation: fadeUp 4s ease-in-out;
    }

    /* === MODALES REFINADOS === */
    .modal {
      position: fixed;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(0,0,0,0.45);
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.4s ease, visibility 0.4s ease;
      z-index: 1000;
      backdrop-filter: blur(6px);
    }

    .modal.show { opacity: 1; visibility: visible; }

   .modal-content {
  background: rgba(248,229,216,0.97);
  border-radius: 16px;
  padding: 30px 25px;
  max-width: 600px;
  width: 90%;
  max-height: 85vh; /* üîπ altura m√°xima = 85% de la ventana */
  overflow-y: auto; /* üîπ permite scroll vertical dentro del modal */
  color: #000;
  border: 2px solid #000;
  box-shadow: 0 8px 24px rgba(0,0,0,0.25);
  transform: scale(0.9);
  opacity: 0;
  transition: all 0.4s ease;
  position: relative;
  z-index: 1001;
  scrollbar-width: thin; /* üîπ hace la barra m√°s fina (en Firefox) */
  scrollbar-color: #a00034 #f8f1e3; /* üîπ color personalizado */
}

/* üîπ Scrollbar elegante para navegadores WebKit (Chrome, Safari, Edge) */
.modal-content::-webkit-scrollbar {
  width: 8px;
}
.modal-content::-webkit-scrollbar-track {
  background: #f8f1e3;
  border-radius: 10px;
}
.modal-content::-webkit-scrollbar-thumb {
  background-color: #a00034;
  border-radius: 10px;
}


    .modal.show .modal-content { transform: scale(1); opacity: 1; }

    .close-btn {
      position: absolute;
      top: 15px;
      right: 20px;
      background: none;
      border: none;
      cursor: pointer;
    }

    .close-btn img { width: 28px; }
    /* === ESTILO FINAL DEL FORMULARIO DE ASISTENCIA === */
/* === MODAL ASISTENCIA === */
/* === MODAL ASISTENCIA (mismo fondo que los dem√°s) === */
#asistenciaModal {
  position: fixed;
  z-index: 1000;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
  box-sizing: border-box;

  /* Fondo oscuro transl√∫cido con desenfoque */
  background: rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);

  transition: opacity 0.4s ease, visibility 0.4s ease;
  opacity: 0;
  visibility: hidden;
}

#asistenciaModal.show {
  opacity: 1;
  visibility: visible;
}


#asistenciaModal .asistencia-content {
  background: rgba(248,229,216,0.80); /* crema semitransparente */
  border-radius: 12px;
  max-width: 600px;
  width: 100%;
  max-height: 90%;
  overflow-y: auto;
  position: relative;
  padding: 20px;
  border: 2px solid #000000; /* ‚ö´ borde negro */
}

/* === T√≠tulo del modal === */
.asistencia-title {
  text-align: center;
  margin-bottom: 20px;
}

.asistencia-title img {
  max-width: 100px;
  height: auto;
  display: inline-block;
}

.asistencia-title h3 {
  font-family: 'Playfair Display', serif;
  font-size: 26px;
  font-weight: 700;
  color: #000;
  text-align: center;
  margin-top: 10px;
  margin-bottom: 15px;
}

/* === Formulario === */
#rsvpForm {
  max-width: 320px;
  margin: 0 auto;
  text-align: center;
  box-sizing: border-box;
}

#rsvpForm input,
#rsvpForm select,
#rsvpForm textarea {
  width: 100%;
  max-width: 300px;
  margin: 0 auto 15px;
  display: block;
  text-align: center;
  box-sizing: border-box;
  padding: 12px 14px;
  border-radius: 12px;
  font-size: 15px;
  background: rgba(250,240,240,1);
  font-weight: bold;
  color: #000;
  border: 2px solid #000000;
}

label {
  display: inline-block;
  font-size: 20px;
  color: #000;
  margin: 12px 0 6px;
  font-weight: bold;
  background: rgba(250,240,240,1);
  padding: 2px 6px;
  border-radius: 4px;
  border: 2px solid #000000;
}

/* === Botones tipo chip === */
.radio-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
}

.chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 18px;
  border: 2px solid var(--brand, #b87b5a);
  border-radius: 999px;
  cursor: pointer;
  user-select: none;
  font-weight: bold;
  transition: all 0.2s ease-in-out;
  color: var(--ink, #2b2b2b);
  background: rgba(250,240,240,0.8);
  font-size: 16px;
  position: relative;
}

.chip input {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

.chip span {
  display: inline-block;
  transition: all 0.2s ease-in-out;
}

.chip input:checked + span {
  background: var(--brand, #b87b5a);
  color: #fff;
  border-color: var(--brand, #b87b5a);
  padding: 12px 22px;
  transform: scale(1.05);
}

/* === Bot√≥n enviar === */
.actions {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  margin-top: 20px;
}

.actions button {
  padding: 12px 18px;
  border: 0;
  border-radius: 999px;
  background: #a00034;
  color: #fff;
  font-weight: 600;
  font-size: 15px;
  cursor: pointer;
  box-shadow: 0 6px 14px rgba(0,0,0,0.2);
  transition: all 0.3s ease;
}

.actions button:hover {
  filter: brightness(0.9);
  transform: translateY(-2px);
}

/* === Animaci√≥n del modal === */
.modal .asistencia-content {
  opacity: 0;
  transform: translateY(-20px);
  transition: opacity 1s ease, transform 1s ease;
}

.modal.show .asistencia-content {
  opacity: 1;
  transform: translateY(0);
}

/* === Campo acompa√±antes animado === */
#rowAcompanantesNombres {
  opacity: 0;
  max-height: 0;
  transform: translateY(-10px);
  overflow: hidden;
  transition: opacity 0.8s ease, max-height 0.8s ease, transform 0.8s ease;
}

#rowAcompanantesNombres.show {
  opacity: 1;
  max-height: 200px;
  transform: translateY(0);
}

#successBox,
#errorBox {
  display: none;
}
    /* === ANIMACI√ìN SUAVE DE ENTRADA PARA TODOS LOS MODALES === */
.modal .asistencia-content,
.modal .traslado-content,
.modal .recuerdos-content,
.modal .ubicacion-content {
  opacity: 0;
  transform: scale(0.9) translateY(-10px); /* empieza m√°s peque√±o y arriba */
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.modal.show .asistencia-content,
.modal.show .traslado-content,
.modal.show .recuerdos-content,
.modal.show .ubicacion-content {
  opacity: 1;
  transform: scale(1) translateY(0); /* se agranda suavemente y baja al sitio */
}
    /* === RINC√ìN DE LOS RECUERDOS: mejora de estilo === */

/* Texto de informaci√≥n: en negrita y centrado */
/* === RINC√ìN DE LOS RECUERDOS ‚Äî versi√≥n refinada === */

/* Texto de informaci√≥n */

/* Formulario centrado */
#recuerdosForm {
  text-align: center;
}

/* Ocultamos el input original */
#recuerdosForm input[type="file"] {
  display: none;
}

/* Bot√≥n personalizado ‚ÄúSeleccionar fotos‚Äù */
.file-label {
  display: inline-block;
  padding: 10px 18px;
  border-radius: 999px;
  border: 2px solid #a00034; /* granate fino */
  background: transparent;   /* sin fondo */
  color: #a00034;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.file-label:hover {
  background: #a00034;
  color: #fff;
  transform: translateY(-2px);
}

/* Mensaje debajo */
#recuerdosMsg {
  margin-top: 12px;
  font-weight: 600;
  color: #000;
}

/* === Bot√≥n ENVIAR igual al de Asistencia === */
#recuerdosForm button {
  display: inline-block;
  margin-top: 15px;
  padding: 12px 18px;
  border: 0;
  border-radius: 999px;
  background: #a00034;
  color: #fff;
  font-weight: 600;
  font-size: 15px;
  cursor: pointer;
  box-shadow: 0 6px 14px rgba(0,0,0,0.2);
  transition: all 0.3s ease;
}

#recuerdosForm button:hover {
  filter: brightness(0.9);
  transform: translateY(-2px);
}
    /* === TEXTOS INFORMATIVOS UNIFICADOS EN MODALES === */
#trasladoModal .modal-content p,
#recuerdosModal .modal-content p,
#ubicacionModal .modal-content p {
  font-family: 'Playfair Display', serif;
  font-size: 22px;
  color: #000;
  text-align: center;
  line-height: 1.6;
  font-weight: 700; /* en negrita */
}
  /* === TITULOS Y SUBTITULOS DENTRO DE MODALES === */

/* T√≠tulo principal de cada modal */
.modal-content h3.modal-title {
  font-family: 'Cinzel', serif;
  font-size: 26px;
  color: #6b4a2b;
  text-align: center;
  font-weight: 700;
  margin-top: 10px;
  margin-bottom: 18px;
  letter-spacing: 2px;
}

/* Subt√≠tulo (por ejemplo, dentro de ubicaci√≥n o recuerdos) */
.modal-content h4.modal-subtitle {
  font-family: 'Playfair Display', serif;
  font-size: 22px;
  color: #a00034;
  text-align: center;
  font-weight: 700;
  margin-top: 16px;
  margin-bottom: 12px;
  letter-spacing: 1px;
}

/* Texto informativo general (p√°rrafos dentro de los modales) */
.modal-content p {
  font-family: 'Lora', serif;
  font-size: 18px;
  color: #2b2b2b;
  text-align: center;
  line-height: 1.7;
  font-weight: 400;
  margin-bottom: 14px;
}

/* Enlaces dentro de los modales */
.modal-content a {
  color: #a00034;
  font-weight: 600;
  text-decoration: none;
}

.modal-content a:hover {
  text-decoration: underline;
}


  </style>
</head>

<body>

  <!-- üí´ CONTENEDOR PRINCIPAL -->
  <div id="page-wrapper">

    <header>
      <h1 class="title">Alejandro & Andrea</h1>
    </header>

    <!-- Cuenta atr√°s -->
    <section class="countdown-section">
      <h2>Unete a nosotros</h2>
      <div id="countdown">
        <div class="time-box"><span id="days">0</span><small>D√≠as</small></div>
        <div class="time-box"><span id="hours">0</span><small>Horas</small></div>
        <div class="time-box"><span id="minutes">0</span><small>Min</small></div>
        <div class="time-box"><span id="seconds">0</span><small>Seg</small></div>
      </div>
    </section>

    <div class="date-box">
  <span>17 ¬∑ 10 ¬∑ 2026</span>
  <small>D√≠a de la boda</small>
</div>

    <!-- Accesos -->
    <div class="icon-container">
      <button class="icon-button" id="ubicacionBtn">
        <img src="mi_foto_boda_v33.png" alt="Ubicaci√≥n" class="icon-img">
        <span>Ubicaci√≥n</span>
      </button>
      <button class="icon-button" id="asistenciaBtn">
        <img src="mi_foto_boda_v26.png" alt="Asistencia" class="icon-img">
        <span>Asistencia</span>
      </button>
      <button class="icon-button" id="trasladoBtn">
        <img src="mi_foto_boda_v27.png" alt="Traslado" class="icon-img">
        <span>Traslado</span>
      </button>
      <button class="icon-button" id="recuerdosBtn">
        <img src="recuerdos.png" alt="Recuerdos" class="icon-img">
        <span>Recuerdos</span>
      </button>
    </div>
   <div class="subtitle-box">
  <p class="subtitle">
    ¬°Bienvenidos a nuestro espacio de boda! Nos hace una enorme ilusi√≥n que nos acompa√±√©is en este momento tan especial de nuestras vidas.
    Aqu√≠ podr√©is compartir con nosotros vuestras preferencias para que todo est√© perfecto y tambi√©n encontrar toda la informaci√≥n sobre la celebraci√≥n.
    ¬°Gracias de coraz√≥n por formar parte de nuestra historia!
  </p>
</div>


    <!-- Foto -->
    <div class="boda-foto">
      <img src="mi_foto_boda_v39.JPG" alt="Foto de compromiso Alejandro y Andrea">
    </div>

    <!-- Logo -->
    <div class="logo-fecha">
      <img src="mi_foto_boda_v31.png" alt="Logo Alejandro y Andrea">
    </div>

    <!-- Frase final -->
    <div class="mensaje-final">
      Gracias por acompa√±arnos en este camino tan especial.<br>
    </div>

    <footer>¬© Alejandro & Andrea</footer>

  </div>

 <!-- MODAL ASISTENCIA -->
<div id="asistenciaModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="asistenciaTitle">
  <div class="asistencia-content">
    <button id="closeAsistencia" aria-label="Cerrar formulario" class="close-btn">
      <img src="mi_foto_boda_v36.png" alt="Cerrar">
    </button>

    <div class="asistencia-title">
      <img src="mi_foto_boda_v32.png" alt="Cuestionario de asistencia">
      <h3>Cuestionario de asistencia</h3>
    </div>

    <form id="rsvpForm"
      action="https://script.google.com/macros/s/AKfycbyR0kDkPjKhyVGAqirWjeG7KxL917Tz1tfJOo17r6v06V4JT2cPcjjHyYR8_CvZ_Ab-Kg/exec"
      method="POST" novalidate>
      <div class="grid">

        <div class="row">
          <label for="nombre">Nombre y apellidos *</label>
          <input id="nombre" name="nombre" type="text" required placeholder="Ej. Ana P√©rez" />
        </div>

        <div class="row">
          <label>¬øAsistir√°s a la boda? *</label>
          <div class="radio-row">
            <label class="chip"><input type="radio" name="asistencia" value="s√≠" required /><span>S√≠</span></label>
            <label class="chip"><input type="radio" name="asistencia" value="no" required /><span>No</span></label>
          </div>
        </div>

        <div class="row">
          <label for="acompanantes">¬øCu√°ntos acompa√±antes?</label>
          <input id="acompanantes" name="acompanantes" type="number" min="0" max="10" value="0" />
        </div>

        <div class="row" id="rowAcompanantesNombres">
          <label for="acompanantesNombres">Nombre y apellidos de los acompa√±antes</label>
          <input id="acompanantesNombres" name="acompanantesNombres" type="text"
            placeholder="Ej. Juan G√≥mez, Mar√≠a L√≥pez..." />
        </div>

        <div class="row">
          <label>¬øUtilizar√°s el servicio de autob√∫s?</label>
          <div class="radio-row">
            <label class="chip"><input type="radio" name="autobus" value="s√≠" /><span>S√≠</span></label>
            <label class="chip"><input type="radio" name="autobus" value="no" /><span>No</span></label>
          </div>
        </div>

      </div>

      <div class="row">
        <label for="alergias">¬øTienes alguna alergia, intolerancia o preferencia alimentaria?</label>
        <input id="alergias" name="alergias" type="text"
          placeholder="Ej. sin gluten, frutos secos, vegetariano..." />
      </div>

      <div class="row">
        <label for="mensaje">¬øQu√© canci√≥n te gusta para que suene en la fiesta?</label>
        <textarea id="mensaje" name="mensaje" placeholder=" "></textarea>
      </div>

      <div class="actions">
        <button type="submit">Enviar confirmaci√≥n</button>
      </div>
    </form>

    <div class="success" id="successBox" role="status" aria-live="polite">
      <h3>¬°Gracias por tu respuesta! üíå</h3>
      <p>Hemos registrado tu confirmaci√≥n. Puedes cerrar esta p√°gina.</p>
    </div>

    <div class="error" id="errorBox" role="alert">
      <h3>Vaya, algo no ha ido bien‚Ä¶</h3>
      <p>Int√©ntalo de nuevo en unos segundos o avisa a los novios.</p>
    </div>
  </div>
</div>


<!-- MODAL TRASLADO -->
<div id="trasladoModal" class="modal">
  <div class="modal-content">
    <button class="close-btn" id="closeTraslado">
      <img src="mi_foto_boda_v36.png" alt="Cerrar">
    </button>
    <div style="text-align:center;">
      <img src="mi_foto_boda_v29.png" alt="Traslado" style="width:60px;margin-bottom:10px;">
      <h3 class="modal-title">Traslado de invitados</h3>
      <p>
        Cuando se acerque nuestro gran d√≠a, aqu√≠ encontrar√©is todos los detalles sobre el servicio de autobuses.
        Compartiremos los horarios y puntos de recogida en Pamplona para acompa√±arnos hasta el banquete en el Palacio de Olloqui,
        as√≠ como el regreso tras la fiesta para volver c√≥modamente a Pamplona.
        ¬°Queremos que disfrut√©is al m√°ximo, sin preocuparos de nada m√°s que de celebrar con nosotros!
      </p>
    </div>
  </div>
</div>


<!-- MODAL UBICACI√ìN -->
<div id="ubicacionModal" class="modal">
  <div class="modal-content">
    <button class="close-btn" id="closeUbicacion">
      <img src="mi_foto_boda_v36.png" alt="Cerrar">
    </button>
    <div style="text-align:center;">
      <img src="mi_foto_boda_v28.png" alt="Ceremonia" style="width:60px;margin-bottom:10px;">
      <h3 class="modal-title">Ceremonia religiosa</h3>
      <p>
        La ceremonia religiosa tendr√° lugar en la Catedral de Santa Mar√≠a la Real de Pamplona,
        un lugar √∫nico y lleno de historia que hemos elegido para dar el "s√≠ quiero".<br>
        Os esperamos el 17 de octubre de 2026 a las 12:00 del mediod√≠a,
        para compartir junto a nosotros este momento tan especial.
      </p>
      <p>
        üìç <a href="https://www.google.com/maps/search/?api=1&query=42.819637,-1.641684" target="_blank">
          Ver ubicaci√≥n en Google Maps
        </a>
      </p>

      <br>
      <img src="mi_foto_boda_v34.png" alt="Banquete" style="width:60px;margin-bottom:10px;">
      <h3 class="modal-title">Banquete</h3>
      <p>
        Continuaremos compartiendo este d√≠a tan especial en el Palacio Cabo de Armer√≠a de Olloqui,
        un entorno con encanto donde disfrutaremos juntos de la comida, la celebraci√≥n y, por supuesto,
        la fiesta hasta el final.
      </p>
      <p>
        üìç <a href="https://www.google.com/maps/search/?api=1&query=42.840699,-1.581877" target="_blank">
          Ver ubicaci√≥n en Google Maps
        </a>
      </p>
    </div>
  </div>
</div>


<!-- MODAL RECUERDOS -->
<div id="recuerdosModal" class="modal">
  <div class="modal-content">
    <button class="close-btn" id="closeRecuerdos">
      <img src="mi_foto_boda_v36.png" alt="Cerrar">
    </button>
    <div style="text-align:center;">
      <img src="mi_foto_boda_v38.png" alt="C√°mara" style="width:60px;margin-bottom:8px;">
      <h3 class="modal-title">Rinc√≥n de los recuerdos</h3>
      <p>
        El d√≠a de nuestra boda estar√° inmortalizado por un fot√≥grafo profesional üì∑,
        as√≠ que no os preocup√©is, ¬°tendremos fotos oficiales de cada momento!  
        Pero tambi√©n queremos ver la celebraci√≥n a trav√©s de vuestros ojos üëÄ.  
        Por eso, os invitamos a subir aqu√≠ todas las fotos espont√°neas que hag√°is con vuestro m√≥vil:
        esos instantes divertidos, naturales y √∫nicos que solo vosotros pod√©is captar.
      </p>

      <form id="recuerdosForm">
        <label for="foto" class="file-label">üì∏ Seleccionar fotos</label>
        <input type="file" id="foto" name="foto" accept="image/*" multiple>
        <div id="recuerdosMsg"></div>
        <button type="submit">Enviar fotos</button>
      </form>
    </div>
  </div>
</div>


<script>
document.addEventListener("DOMContentLoaded", () => {
  const pageWrapper = document.getElementById("page-wrapper");
  const modales = document.querySelectorAll(".modal");

  /* === FUNCI√ìN GLOBAL PARA CERRAR === */
  function closeAllModals() {
    modales.forEach(modal => modal.classList.remove("show"));
    if (pageWrapper) pageWrapper.classList.remove("blurred");
    history.pushState(null, "", location.href.split("#")[0]);
  }

  /* === CONFIGURADOR DE MODALES (seguro) === */
  function setupModal(openBtnId, modalId, closeBtnId) {
    const openBtn = document.getElementById(openBtnId);
    const modal = document.getElementById(modalId);
    const closeBtn = document.getElementById(closeBtnId);

    if (!openBtn || !modal || !closeBtn) return; // Evita errores si falta algo

    openBtn.addEventListener("click", () => {
      modal.classList.add("show");
      if (pageWrapper) pageWrapper.classList.add("blurred");
      history.pushState({ modal: modalId }, "", "#" + modalId);
    });

    closeBtn.addEventListener("click", closeAllModals);
    modal.addEventListener("click", (e) => { if (e.target === modal) closeAllModals(); });
    document.addEventListener("keydown", (e) => { if (e.key === "Escape") closeAllModals(); });
  }

  /* === CONFIGURAR TODOS === */
  setupModal("asistenciaBtn", "asistenciaModal", "closeAsistencia");
  setupModal("trasladoBtn", "trasladoModal", "closeTraslado");
  setupModal("ubicacionBtn", "ubicacionModal", "closeUbicacion");
  setupModal("recuerdosBtn", "recuerdosModal", "closeRecuerdos");

  window.addEventListener("popstate", closeAllModals);

 /* === CUENTA ATR√ÅS === */
  const weddingDate = new Date("Oct 17, 2026 12:00:00").getTime();
  const daysEl = document.getElementById("days");
  const hoursEl = document.getElementById("hours");
  const minutesEl = document.getElementById("minutes");
  const secondsEl = document.getElementById("seconds");

  setInterval(() => {
    const now = new Date().getTime();
    const distance = weddingDate - now;
    if (distance <= 0) {
      document.getElementById("countdown").innerHTML = "üíç ¬°Hoy es el gran d√≠a!";
      return;
    }
    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);
    if (daysEl) daysEl.textContent = days;
    if (hoursEl) hoursEl.textContent = hours;
    if (minutesEl) minutesEl.textContent = minutes;
    if (secondsEl) secondsEl.textContent = seconds;
  }, 1000);

  /* === FORMULARIO ASISTENCIA === */
  const form = document.getElementById("rsvpForm");
  if (form) {
    const successBox = document.getElementById("successBox");
    const errorBox = document.getElementById("errorBox");
    const submitBtn = form.querySelector("button[type='submit']");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      submitBtn.disabled = true;
      const spinner = document.createElement("span");
      spinner.textContent = " ‚è≥";
      submitBtn.appendChild(spinner);

      const data = new FormData(form);
      try {
        const response = await fetch(form.action, {
          method: form.method,
          body: data,
          headers: { "Accept": "application/json" }
        });

        if (response.ok) {
          form.style.display = "none";
          errorBox.style.display = "none";
          successBox.style.display = "block";
          setTimeout(() => {
            successBox.style.display = "none";
            form.style.display = "block";
            submitBtn.disabled = false;
            spinner.remove();
            form.reset();
            closeAllModals();
          }, 3000);
        } else throw new Error("Error en el env√≠o");
      } catch (err) {
        successBox.style.display = "none";
        errorBox.style.display = "block";
        setTimeout(() => {
          errorBox.style.display = "none";
          form.style.display = "block";
          submitBtn.disabled = false;
          spinner.remove();
        }, 3000);
      }
    });
  }

  /* === CAMPO ACOMPA√ëANTES === */
  const acompanantesInput = document.getElementById("acompanantes");
  const rowAcompanantesNombres = document.getElementById("rowAcompanantesNombres");
  if (acompanantesInput && rowAcompanantesNombres) {
    acompanantesInput.addEventListener("input", () => {
      const value = parseInt(acompanantesInput.value, 10);
      rowAcompanantesNombres.classList.toggle("show", value > 0);
    });
  }

  /* === FORMULARIO RECUERDOS === */
  const recuerdosForm = document.getElementById("recuerdosForm");
  const recuerdosMsg = document.getElementById("recuerdosMsg");
  const fileInput = document.getElementById("foto");

  if (recuerdosForm) {
    recuerdosForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      recuerdosMsg.innerHTML = "";
      const files = fileInput.files;
      const submitBtn = recuerdosForm.querySelector('button[type="submit"]');

      if (files.length === 0) {
        recuerdosMsg.textContent = "‚ö†Ô∏è Selecciona al menos una foto.";
        return;
      }

      submitBtn.disabled = true;
      const spinner = document.createElement("span");
      spinner.textContent = " ‚è≥";
      submitBtn.appendChild(spinner);

      for (const file of files) {
        try {
          const reader = new FileReader();
          const base64 = await new Promise((resolve, reject) => {
            reader.onloadend = () => resolve(reader.result.split(",")[1]);
            reader.onerror = reject;
            reader.readAsDataURL(file);
          });

          const response = await fetch("https://script.google.com/macros/s/AKfycbwN9bUuAkucwZ3kpuYLdzDqGfnIgwzyQ-q5Wz5qxleE4LRKk5_A0nZ459TZrk4E9WZDvQ/exec", {
            method: "POST",
            body: new URLSearchParams({
              foto: base64,
              nombreArchivo: file.name,
              mimeType: file.type
            })
          });

          const result = await response.json();
          recuerdosMsg.innerHTML += result.status === "ok"
            ? `‚úÖ ${file.name} subida correctamente<br>`
            : `‚ùå Error al subir ${file.name}<br>`;
        } catch (err) {
          recuerdosMsg.innerHTML += `‚ö†Ô∏è Fallo al subir ${file.name}: ${err.message}<br>`;
        }
      }

      submitBtn.disabled = false;
      spinner.remove();
    });

    /* Mostrar cu√°ntos archivos se seleccionaron */
    fileInput.addEventListener("change", () => {
      if (fileInput.files.length === 0) recuerdosMsg.textContent = "";
      else if (fileInput.files.length === 1)
        recuerdosMsg.textContent = `üì∑ ${fileInput.files[0].name}`;
      else
        recuerdosMsg.textContent = `üì∑ ${fileInput.files.length} archivos seleccionados`;
    });
  }
});
</script>





























































